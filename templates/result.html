<html>

<head>
   <title>Flickr Image Search</title>
   <link href="static/css/style_result.css" rel="stylesheet">
   <style>
      img {
         background: rgba(0, 0, 0, 0.5);
         padding: 10px;
      }

      .img-col {
         width: 50%;
         margin-left: auto;
         margin-right: auto;
      }

      .img-col img {
         display: block;
         margin-left: auto;
         margin-right: auto;
         width: 50%;
         cursor: pointer;
      }

      .img-col img:hover {
         opacity: 0.5;
      }
   </style>
</head>

<body>
   <div class="header" style="align-items:unset ">
      <form action="/result" method="POST">
         <h1>Find Your Images</h1>
         <div class="form-box">
            <select class="search-field category" name="category">
               <option value="" selected disabled hidden>Choose category</option>
               <option value="image">Image</option>
               <!-- <option value="user">User</option>
               <option value="term">Term</option>
               <option value="group">Group</option> -->
            </select>
            <!-- <input type="text" class="search-field keywords" placeholder="Keywords" name="Keywords" /> -->
            <input type="text" class="search-field keywords" placeholder="Term" name="term" value="{{term}}"/>
            <input type="text" class="search-field keywords" placeholder="User" name="user" value="{{user}}"/>
            <input type="text" class="search-field keywords" placeholder="Group" name="group" value="{{group}}"/>
            <button type="submit" class="search-btn">Search</button>
         </div>
      </form>
   </div>
   <div class="img-col">
      {% for src, url, title in data %}
      <div style="text-align: center">
         <img src={{src}} alt={{ title }} id={{i}} onclick="changeImage()" style="width:80%">
         <a href={{url}}>{{title}}</a> 
      </div>
      {% endfor %}
      <!-- The Modal -->
      <div id="myModal" class="modal">
         <span class="close">&times;</span>
         <img class="modal-content" id="img01">
         <div id="caption"></div>
      </div>
   </div>
   <script>
      // Get the modal
      function showImage() {
         var modal = document.getElementById("myModal");

         // Get the image and insert it inside the modal - use its "alt" text as a caption
         var img = document.getElementById("0");
         var modalImg = document.getElementById("img01");
         var captionText = document.getElementById("caption");
         img.onclick = function () {
            modal.style.display = "block";
            modalImg.src = this.src;
            captionText.innerHTML = this.alt;
         }

         // Get the <span> element that closes the modal
         var span = document.getElementsByClassName("close")[0];

         // When the user clicks on <span> (x), close the modal
         span.onclick = function () {
            modal.style.display = "none";
         }
      }
   </script>
</body>

</html>
